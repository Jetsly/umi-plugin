import Vue from 'vue';
import dva from '@ddot/umi-vue';
import createLoading from 'dva-loading';

const runtimeDva = window.g_plugins.mergeConfig('dva');

let app = dva({
  {{{ExtendDvaConfig}}}
  ...(runtimeDva.config || {}),
});
window.g_app = app;

(runtimeDva.plugins || []).forEach(plugin => {
  app.use(plugin);
});

app.use(createLoading());
{{{RegisterPlugins}}}
{{{RegisterModels}}}
app.start()

